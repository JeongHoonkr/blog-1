#자바 성능 튜닝 이야기(이상민 저)

##Story02 내가 만든 프로그램의 속도를 알고 싶다
시스템의 성능이 느릴 때 가장 먼저 해야 하는 작업은 병목 지점을 파악하는 것이다. 

###System 클래스
모든 System 클래스의 메서드는 static으로 되어 있고, 그 안에서 생성된 in, out, err와 같은 객체들도 static으로 선언되어 있으며, 생성자도 없다(private으로 되어 있음).

System 클래스에서 자주 사용하지는 않지만 알아두면 매우 유용한 메서드에는 어떤 것들이 있는지 알아보자.

```java
static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)
```
```java
String[] arr = new String[]{"AAA", "BBB", "CCC", "DDD", "EEE"};

String[] copiedArr = new String[3];
System.arraycopy(arr,2,copiedArr, 1, 2);

결과 : null CCC DDD
```
예를 들어 위와 같이 arraycopy 메서드를 사용했다면, arr 배열의 2번 인덱스부터 copiedArr 배열의 1번 인덱스 위치에 2개 복사하겠다는 뜻이다.

자바의 JVM에서 사용할 수 있는 설정은 크게 두가지로 나뉜다. 하나는 속성(Property)값이고, 다른 하나는 환경(Environment)값이다. 속성은 JVM에서 지정된 값들이고, 환경은 장비(서버)에 지정되어 있는 값들이다. 자바에서는 영어 단어 그대로 "속성"은 Properties로, "환경"은 env로 사용한다.
먼저 Properties를 사용하는 메서드에 대해서 알아보자.
```java
// 현재 자바 속성 값들을 받아 온다.
static Properties getProperties()

// key에 지정된 자바 속성 값을 받아 온다.
static String getProperty(String key)

// key에 지정된 자바 속성 값을 받아온다. def는 해당 key가 존재하지 않을 경우 지정할 기본값이다.
static String getProperty(String key, String def)

// props 객체에 담겨 있는 내용을 자바 속성에 지정한다.
static void setProperties(Properties props)

// 자바 속성에 있는 지정된 key의 값을 value 값으로 변환한다.
static void setProperty(String key, String value)
```
이러한 자바 속성 관련 메서드를 어떻게 사용하는지 다음의 예를 통해 알아보자.
```java
public class GetProperties {
    public static void main(String args[]) {
        System.setProperty("JavaTuning", "Tune Lee");
        Properties prop = System.getProperties();
        Set key = prop.keySet();
        Iterator it = ke.iterator();
        
        while(it.hasNext()) {
            String curKey = it.next().toString();
            System.out.format("%s=%s \n", curKey, prop.getProperty(curKey));
        }
    }
}
```
