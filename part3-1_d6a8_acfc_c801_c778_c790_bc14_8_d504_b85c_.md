# Part3-1 효과적인 자바8 프로그래밍
##9장 디폴트 메서드
![](스크린샷 2016-05-23 오후 8.29.25.jpg)
자바 8 이전에는 만약 인터페이스에 새로운 메서드를 정의하면 

![](스크린샷 2016-05-23 오후 8.31.24.jpg)

구현 클래스를 수정해줘야 했다. <br>

그부분이 라이브러리 설계자 입장에서는 큰 제약이었다.
![](스크린샷 2016-05-23 오후 8.36.06.jpg)
특히 모두에게 공개된 API 경우, 사용자가 직접 구현한 클래스까지 설계자가 커버할 수 없다. 

![](스크린샷 2016-05-23 오후 8.48.00.jpg)
그래서 새롭게 나온게 자바8 디폴트 메서드이다. 
```
default Stream<E> stream() {
    return StreamSupport.stream(spliterator(), false);
}


default Stream<E> parallelStream() {
    return StreamSupport.stream(spliterator(), true);
}


@Override
default Spliterator<E> spliterator() {
    return Spliterators.spliterator(this, 0);
}

```
![](스크린샷 2016-05-23 오후 8.56.32.jpg)
```
@SuppressWarnings({"unchecked", "rawtypes"})
default void sort(Comparator<? super E> c) {
    Object[] a = this.toArray();
    Arrays.sort(a, (Comparator) c);
    ListIterator<E> i = this.listIterator();
    for (Object e : a) {
        i.next();
        i.set((E) e);
    }
}
```
cf) Effective Java 규칙 24<br>
제거할 수 없는 경고 메세지는 형 안전성이 확실할 때만 @SuppressWarings(“unchecked”)를 사용해 억제해라. <br>
Rawtypes는 제너릭을 사용하는 클래스 매개 변수가 불특정일 때의 경고다. <br>

3장에서 소개한 Predicate, Function 등 많은 함수형 인터페이스도 다양한 디폴트 메서드를 포함한다.
![](스크린샷 2016-05-24 오후 3.44.59.jpg)
![](스크린샷 2016-05-24 오후 3.45.16.jpg)

**함수형 인터페이스는 오직 하나의 추상 메서드를 포함한다. 디폴트 메서드는 추상 메서드에 해당하지 않는다는 점을 기억하자.**<br>




